# Load Dotenv Vault Action

This GitHub Action loads a dotenv-vault environment from `.env.vault` into the GitHub Actions environment.

## Inputs

| Name                   | Description                                                                                         | Required | Default |
|------------------------|-----------------------------------------------------------------------------------------------------|----------|---------|
| `dotenv-key`           | The encryption key used by `dotenv-vault` to decrypt the `.env.vault` file. This is usually generated by the `npx dotenv-vault@latest keys ci` command.                                                                    | Yes      |         |
| `mode`                 | The suffix to use on the .env file generated from dotenv-vault decrypt (e.g., ci results in .env.ci) | No       | `'ci'`  |
| `load-mode`            | Sets whether the program should fail when the .env file is not present (strict) or continue (skip)   | No       | `'skip'` |

In addition to the above, this action accepts all of the inputs from [actions/setup-node](https://github.com/actions/setup-node)@v4.0.2.

## Example Usage

```yaml
steps:
  - name: Load dotenv-vault
    uses: BluMintInc/load-dotenv-vault@v1
    with:
      dotenv-key: ${{ secrets.DOTENV_KEY }}
      load-mode: 'strict'
```

You need to add the `DOTENV_KEY` secret in your repository settings. This key should match the one used to decrypt the `.env.vault` file.

After running this action, the decrypted environment variables will be available in the GITHUB_ENV. You can then use these variables in your subsequent workflow steps.

## License

This scripts and documentation in this project are released under the [MIT License](LICENSE).
